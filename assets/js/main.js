$(document).ready(function(){var t=".js-about-tabs",e=t+"__control";__contents=t+"__content";var n=$(t);$(t);n.each(function(){var t=$(this),n=t.find(e),i=t.find(__contents);n.on("click",function(t){t.preventDefault();var e=$(this),r=e.data("tab");e.hasClass("active")||(n.removeClass("active"),i.removeClass("active"),e.addClass("active"),i.filter("[data-tab="+r+"]").addClass("active"))})})}),$(function(){function t(t){$(".js-carousel-item").each(function(e){var n=t,i=$(this);i.css({height:n+"px"})})}var e=$(".js-carousel__control-next");$prev=$(".js-carousel__control-prev"),$owlWork=$(".js-carousel-work"),$items=$(".js-carousel-item"),$window=$(window),t($window.outerHeight()),$owlWork.owlCarousel({items:1,margin:0,loop:!0,autoHeight:!0,merge:!0,smartSpeed:1e3}),e.on("click",function(){var t=$(this).parent().find(".js-carousel");t.trigger("next.owl.carousel")}),$prev.on("click",function(){var t=$(this).parent().find(".js-carousel");t.trigger("prev.owl.carousel")}),$window.on("resize",function(e){t($window.outerHeight())})}),function(t){function e(e){var r=e.find(l),s=r.length,o=0,a=!1;return r.each(function(){var e=t(this),n=e.data("isvalid");console.log("item valid = "+n),n&&o++}),s===o||0===s?(n(e),a=!0):(i(e),a=!1),a}function n(t){t.data("isvalid",!0),console.log("форма валид")}function i(t){t.data("isvalid",!1),console.log("форма инвалид")}function r(t){var e=t.closest(l),n=(e.find(u),t[0].type),i=!1,r=t.val();return"text"==n&&(t.hasClass("js-mask-phone")&&(r=r.replace(/\+7/,"").replace(/\D/g,"")),""!==r?(s(t),i=!0):(o(t),i=!1)),i}function s(t){var e=t.closest(l),n=e.find(u);e.data("isvalid",!0).removeClass("error").addClass("succes"),t.data("isvalid",!0),n.fadeOut()}function o(t){var e=t.closest(l),n=e.find(u);e.data("isvalid",!1).addClass("error").removeClass("succes"),t.data("isvalid",!1),n.fadeIn()}var a="validForm",l=".js-valid-form__item",c=".js-valid-form__button",u=".js-valid-form__error",h={init:function(n){return this.each(function(){var n=t(this),i=n.data(a),s=n.find(l),o=s.find("input"),u=(s.find(c),null);i||t(this).data(a,{target:n}),o.on("validation."+a,function(){r(t(this))}),n.on("submit",function(n){o.trigger("validation."+a);var i=e(t(this));if(!i)return!1}),o.on("keydown focusout",function(){var e=t(this);clearTimeout(u),u=setTimeout(function(){r(e)},50)})})},destroy:function(){return this.each(function(){var e=t(this);e.data(a);t(window).unbind("."+a),e.removeData(a)})},vilidation:function(){return this.each(function(){var n=t(this);e(n)})}};t.fn[a]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Метод с именем "+e+" не существует для jQuery.tooltip"):h.init.apply(this,arguments)}}(jQuery),$(document).ready(function(){$(".js-valid-form").validForm()}),$(document).ready(function(){var t=$(".js-menu-items"),e=$(".js-menu-button");e.on("click",function(e){function n(){r.removeClass("active"),t.removeClass("active"),$(document).off("click.menu")}function i(){r.addClass("active"),t.addClass("active"),$(document).on("click.menu",function(t){$(t.target).closest(r).length||n()})}var r=$(this);r.hasClass("active")?n():i()})}),!function(t){var e={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!0,responsiveFallback:!1,direction:"vertical"};t.fn.swipeEvents=function(){return this.each(function(){function e(t){var e=t.originalEvent.touches;e&&e.length&&(i=e[0].pageX,r=e[0].pageY,s.bind("touchmove",n))}function n(t){var e=t.originalEvent.touches;if(e&&e.length){var o=i-e[0].pageX,a=r-e[0].pageY;o>=50&&s.trigger("swipeLeft"),o<=-50&&s.trigger("swipeRight"),a>=50&&s.trigger("swipeUp"),a<=-50&&s.trigger("swipeDown"),(Math.abs(o)>=50||Math.abs(a)>=50)&&s.unbind("touchmove",n)}}var i,r,s=t(this);s.bind("touchstart",e)})},t.fn.onepage_scroll=function(n){function i(){var e=!1,n=typeof o.responsiveFallback;"number"==n&&(e=t(window).width()<o.responsiveFallback),"boolean"==n&&(e=o.responsiveFallback),"function"==n&&(valFunction=o.responsiveFallback(),e=valFunction,typeOFv=typeof e,"number"==typeOFv&&(e=t(window).width()<valFunction)),e?(g.addClass("disabled-onepage-scroll"),t(document).unbind("mousewheel DOMMouseScroll MozMousePixelScroll"),a.swipeEvents().unbind("swipeDown swipeUp")):(t("body").hasClass("disabled-onepage-scroll")&&(g.removeClass("disabled-onepage-scroll"),t("html, body, .wrapper").animate({scrollTop:0},"fast")),a.swipeEvents().bind("swipeDown",function(t){g.hasClass("disabled-onepage-scroll")||t.preventDefault(),a.moveUp()}).bind("swipeUp",function(t){g.hasClass("disabled-onepage-scroll")||t.preventDefault(),a.moveDown()}),t(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(t){t.preventDefault();var e=t.originalEvent.wheelDelta||-t.originalEvent.detail;r(t,e)}))}function r(t,e){deltaOfInterest=e;var n=(new Date).getTime();return n-p<d+o.animationTime?void t.preventDefault():(deltaOfInterest<0?a.moveDown():a.moveUp(),void(p=n))}function s(e){var n=t(this),i=null,r=null,s=null,a=null;switch(typeof e){case"string":switch(e){case"down":if(r=l.filter("[data-index='"+(w+1)+"']"),r.length<1){if(1!=o.loop)return;i=0,r=l.filter("[data-index='1']")}else i=100*w*-1;break;case"up":if(r=l.filter("[data-index='"+(w-1)+"']"),r.length<1){if(1!=o.loop)return;i=100*(c-1)*-1,r=l.filter("[data-index='"+c+"']")}else i=100*(r.data("index")-1)*-1}break;case"number":if(r=l.filter("[data-index='"+e+"']"),!(r.length>0))return;i=100*(e-1)*-1}if(s=r.data("index"),a=r[0].id,"function"==typeof o.beforeMove&&o.beforeMove(s),y.removeClass("active"),r.addClass("active"),1==o.pagination&&(t(v+"[data-index='"+w+"']").removeClass("active"),t(v+"[data-index='"+s+"']").addClass("active")),g[0].className=g[0].className.replace(/\bviewing-page-\d.*?\b/g,""),g.addClass("viewing-page-"+s),history.replaceState&&1==o.updateURL){var u=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(a||s);history.pushState({},document.title,u)}n.transformPage(o,i,s),y=r,w=s}var o=t.extend({},e,n),a=t(this),l=t(o.sectionContainer),c=l.length,u=0,h=0,p=0,d=500,f="",g=t("body"),m=".onepage-pagination",v=".onepage-pagination li a",y=l.filter(".active"),w=0;t.fn.transformPage=function(e,n,i){if("function"==typeof e.beforeMove&&e.beforeMove(i),t("html").hasClass("ie8"))if("horizontal"==e.direction){var r=a.width()/100*n;t(this).animate({left:r+"px"},e.animationTime)}else{var r=a.height()/100*n;t(this).animate({top:r+"px"},e.animationTime)}else t(this).css({"-webkit-transform":"horizontal"==e.direction?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-webkit-transition":"all "+e.animationTime+"ms "+e.easing,"-moz-transform":"horizontal"==e.direction?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-moz-transition":"all "+e.animationTime+"ms "+e.easing,"-ms-transform":"horizontal"==e.direction?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)","-ms-transition":"all "+e.animationTime+"ms "+e.easing,transform:"horizontal"==e.direction?"translate3d("+n+"%, 0, 0)":"translate3d(0, "+n+"%, 0)",transition:"all "+e.animationTime+"ms "+e.easing});t(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){"function"==typeof e.afterMove&&e.afterMove(i)})},t.fn.moveDown=function(){s.call(this,"down")},t.fn.moveUp=function(){s.call(this,"up")},t.fn.moveTo=function(t){console.log(this),s.call(this,t)},a.addClass("onepage-wrapper").css("position","relative"),t.each(l,function(e){var n=t(this),i=n[0].id,r=i||e+1,s=n.data("nav-tooltip");n.css({position:"absolute",top:u+"%"}).addClass("section").attr("data-index",e+1),n.css({position:"absolute",left:"horizontal"==o.direction?h+"%":0,top:"vertical"==o.direction||"horizontal"!=o.direction?u+"%":0}),"horizontal"==o.direction?h+=100:u+=100,1==o.pagination&&(f+=s?"<li><a data-index='"+(e+1)+"' href='#"+r+"'></a> <div class='onepage-pagination__tooltip'>"+s+"</div></li>":"<li><a data-index='"+(e+1)+"' href='#"+r+"'></a></li>")}),a.swipeEvents().bind("swipeDown",function(t){g.hasClass("disabled-onepage-scroll")||t.preventDefault(),a.moveUp()}).bind("swipeUp",function(t){g.hasClass("disabled-onepage-scroll")||t.preventDefault(),a.moveDown()}),1==o.pagination&&(t(m).length<1&&t("<ul class='onepage-pagination'></ul>").prependTo("body"),"horizontal"==o.direction?(posLeft=a.find(".onepage-pagination").width()/2*-1,a.find(".onepage-pagination").css("margin-left",posLeft)):(posTop=a.find(".onepage-pagination").height()/2*-1,a.find(".onepage-pagination").css("margin-top",posTop)),t(m).html(f));var x=1;if(""!=window.location.hash){var b=window.location.hash.replace("#","");x=l.filter("#"+b).length?parseInt(l.filter("#"+b).data("index")):parseInt(b),(x<=0||x>c)&&(x=1)}return y=l.filter("[data-index='"+x+"']").addClass("active"),w=x,a.moveTo(x),1==o.pagination&&g.on("click",v,function(e){e.preventDefault();var n=t(this).data("index");a.moveTo(n)}),t(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(t){t.preventDefault();var e=t.originalEvent.wheelDelta||-t.originalEvent.detail;g.hasClass("disabled-onepage-scroll")||r(t,e)}),0!=o.responsiveFallback&&(t(window).resize(function(){i()}),i()),1==o.keyboard&&t(document).keydown(function(t){var e=t.target.tagName.toLowerCase();if(!g.hasClass("disabled-onepage-scroll"))switch(t.which){case 38:"input"!=e&&"textarea"!=e&&a.moveUp();break;case 40:"input"!=e&&"textarea"!=e&&a.moveDown();break;case 32:"input"!=e&&"textarea"!=e&&a.moveDown();break;case 33:"input"!=e&&"textarea"!=e&&a.moveUp();break;case 34:"input"!=e&&"textarea"!=e&&a.moveDown();break;case 36:a.moveTo(1);break;case 35:a.moveTo(c);break;default:return}}),!1}}(window.jQuery),$(function(){$(".js-scroll-page").onepage_scroll({sectionContainer:".js-section",easing:"ease-in-out",animationTime:1e3,pagination:!0,updateURL:!0,keyboard:!0,beforeMove:null,afterMove:null,loop:!0,responsiveFallback:!1,direction:"vertical"})}),$(document).ready(function(){function t(){var t=Math.floor(s/r*100);n.text(t+"%")}var e=$(".preloader"),n=e.find(".preloader__percent"),i=$(".section__bg, .js-carousel-item-img"),r=i.length,s=0;i.each(function(){console.log($(this));var e=$(this);$("<img>").attr("src",function(){var t=e.css("background-image");return t=t.substring(5,t.length-2)}).on("load",function(){s++,t()})})}),window.addEventListener("load",function(){$(".preloader").delay(1e3).fadeOut(function(){$(".preloader").remove()})}),$(document).ready(function(){$(".js-section-scroll").on("click",function(t){t.preventDefault(),$(".js-scroll-page").moveDown()});var t=($(".js-section"),$(window));t.on("resize",function(t){}),$(document).on("scroll",function(t){})}),$(document).ready(function(){var t=".js-about-tab",e=t+"__control";__contents=t+"__content";var n=$(t);$(t);n.each(function(){var t=$(this),n=t.find(e),i=t.find(__contents);n.on("click",function(t){t.preventDefault();var e=$(this),r=e.data("tab");e.hasClass("active")||(n.removeClass("active"),i.removeClass("active"),e.addClass("active"),i.filter("[data-tab="+r+"]").addClass("active"))})})});